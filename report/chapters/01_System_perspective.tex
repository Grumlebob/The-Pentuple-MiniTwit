\section{System's Perspective}
\label{ch:sys_persp} % used to ref this chapter

This section covers the main modules of the system with their  
respective technologies and dependencies, as well as how they
were deployed.

\subsection{Module view}

\begin{figure}[H]
    \centering
    \includesvg[width=\linewidth]{images/modules.drawio}
    \caption{Diagram showing the modules that make up the system with
    their dependencies and main technologies.}
    \label{fig:modules}
\end{figure}

\subsection{Deployment view}

\begin{figure}[H]
      \centering
      \includesvg[width=\textwidth]{images/deployment_diagram.drawio}
      \caption{Diagram showing how the modules were deployed.}
      \label{fig:deployment_diagram}
\end{figure}

We used Digital Ocean to deploy our system.
The modules were deployed to ``droplets'' running Ubuntu 22.04.
We create docker images 

\subsubsection{API load balancer}

Our API module uses docker swarm with one leader giving tasks 
to the workers. The leader is the load balancer 
and the workers are the servers. 

.Net minimal api because its nice.

\subsubsection{Client}

The client module is a Blazor webassembly app.

\subsubsection{Seq monitor}

Seq\cite{seq} because it is specialized for .NET

\subsubsection{Database}

Postgres because we like it


\subsection{Sequence diagram}
\begin{figure}[H]
    \centering
    \includesvg[width=1\textwidth]{images/sequence_diagram.drawio}
    \caption{Sequence diagram of user posting a message}
    \label{fig:seq_diagram}
\end{figure}

Diagram of user posting msg on client or simulator making api call. 
Calls api, uses logging, database, logging again. Reponse back to client/simulator.
