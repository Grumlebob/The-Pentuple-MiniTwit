\section{System's Perspective}
\label{ch:sys_persp} % used to ref this chapter

This section covers the main modules of the system, 
and their respective dependencies.

\subsection{Module view}



\begin{figure}[H]
    \centering
    %\includegraphics[width=\linewidth]{images/modules.svg}
    \caption{Modules in the system.}
    \label{fig:modules}
\end{figure}

\subsubsection{Api load balancer}

Api uses docker swarm with one leader giving tasks 
to the workers. The leader is the load balancer 
and the workers are the servers. 

.Net minimal api because its nice.

\subsubsection{Client}

The client module is a Blazor webassembly app.

\subsubsection{Seq monitor}

Seq\cite{seq} because it is specialized for .NET

\subsubsection{Database}

Postgres because we like it


\subsection{Sequence diagram}
\begin{figure}[H]
    \centering
    \includesvg[width=1\textwidth]{images/sequence_diagram.drawio}
    \caption{Sequence diagram of user posting a message}
    \label{fig:seq_diagram}
\end{figure}

Diagram of user posting msg on client or simulator making api call. 
Calls api, uses logging, database, logging again. Reponse back to client/simulator.

\begin{figure}[H]
    \centering
    %\includegraphics[width=\linewidth]{images/modules.svg}
    \caption{}
    \label{fig:sequence_diagram}
\end{figure}
