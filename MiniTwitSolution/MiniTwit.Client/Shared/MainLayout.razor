@inherits LayoutComponentBase
@inject NavigationManager NavManager

<div class="page">
    <h1>MiniTwit</h1>
    <nav class="navigation">
        @if (User != null)
        {
            <NavLink href="/">My Timeline</NavLink>
            <span>&#124;</span>
            <NavLink href="/timeline">Public Timeline</NavLink>
            <span>&#124;</span>
            <NavLink href="/logout">Sign Out (@User.Username)</NavLink>
        }
        else
        {
            <NavLink href="/timeline">Public Timeline</NavLink>
            <span>&#124;</span>
            <NavLink href="/register">Sign Up</NavLink>
            <span>&#124;</span>
            <NavLink href="/login">Sign In</NavLink>
        }
    </nav>
    <div class="body">
        @Body
    </div>
    <footer class="footer">
        MiniTwit &mdash; A Blazor WebAssembly Application
    </footer>
</div>

@code {
    // In a full application, this would be replaced with an authentication service.
    private UserModel User { get; set; } = null;

    protected override void OnInitialized()
    {
        // For demonstration, User remains null.
        // In production, retrieve the authenticated user from a proper service.
    }

    public class UserModel
    {
        public string Username { get; set; }
    }
}